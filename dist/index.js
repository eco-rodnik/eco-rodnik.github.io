!function(){"use strict";function t(t,n){return t.appendChild(n)}function n(t,n){const e=document.createElement(t);return n?function(t,n){return t.setAttribute(n,""),t}(e,n):e}function e(t){const n=o(t);return n.$value=t,n}function o(t){return document.createTextNode(null!=t?t:"")}function r(t,n){return n!==t.$value?(t.nodeValue=null!=n?n:"",t.$value=n,1):0}function c(t=null){return Object.create(t)}function i(t){return null!=t&&t==t}const u=Object.assign||function(t){for(let n,e=1;e<arguments.length;e++){n=arguments[e];for(const e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},s=Object.getOwnPropertyDescriptors||function(t){const n=c(),e=Object.getOwnPropertyNames(t);for(let o,r,c=0;c<e.length;c++)o=e[c],r=Object.getOwnPropertyDescriptor(t,o),null!=r&&(n[o]=r);return n};function l(t,n,e,o){try{return n&&n(e,o)}catch(n){p(t,n),console.error(n)}}function p(t,n){if("undefined"==typeof CustomEvent)throw n;t.dispatchEvent(new CustomEvent("runtime-error",{bubbles:!0,cancelable:!0,detail:{error:n,host:t}}))}function d(t){try{this.listener&&this.listener(this.host,t,this.target,this.scope)}catch(t){p(this.host,t),console.error(t)}}function a(t,n){return function(e){try{n.call(this,e)}catch(n){p(t,n),console.error(n)}}}function f(t,n,e){const o=function(t){if(!1===t||!i(t))return null;if(!0===t)return"";if(Array.isArray(t))return"[]";if("function"==typeof t)return"𝑓";if("object"==typeof t)return"{}";return t}(e);return null===o?t.removeAttribute(n):function(t,n,e){t.setAttribute(n,e)}(t,n,o),e}function m(t,n,e){return!!t&&e.indexOf(t)===n}function h(t,n,e,o){const{plugins:r}=t.componentModel;for(let c,i=r.length-1;i>=0;i--)if(c=r[i][n],"function"==typeof c)try{c(t,e,o)}catch(n){p(t,n),console.error(n)}}function g(t){return t.componentModel.vars}let v=null;const b={};function y(t,e,o){let r,i;o&&"componentModel"in o&&(r=o.componentModel.definition.cssScope,i=o.root||o);return function(t,n,e){const o=t;n.cssScope&&o.setAttribute(n.cssScope+"-host","");const{props:r,state:i,extend:s,events:l,plugins:p}=function(t,n){const e=c(),o=c(),r=function t(n,e,o=[]){let{plugins:r}=e;"function"==typeof r&&(r=r(n));if(Array.isArray(r))for(let e=0;e<r.length;e++)o.push(r[e]),t(n,r[e],o);return o}(t,n,[n]);let i,s;for(let n=r.length-1;n>=0;n--){const c=r[n];c.props&&u(e,c.props(t)),c.state&&u(o,c.state(t)),c.methods&&(s=C(c.methods,s)),c.extend&&(s=C(c.extend,s)),c.events&&(i||(i=x(t)),A(t,c.events,i))}return{props:e,state:o,extend:s,events:i,plugins:r}}(o,n);o.refs=c(),o.props=c(),o.state=i,o.componentView=o,e&&(o.root=e),function(t){t.setProps=function(n){const{componentModel:e}=t;if(null!=n&&e&&e.mounted){const e=O(t,u(c(),n));return e&&function(t,n){t.componentModel.preparing?M(t,n):w(t,n)}(t,e),e}},t.setState=function(n){const{componentModel:e}=t;null!=n&&e&&function(t,n){for(const e in n)if(n[e]!==t[e])return!0;return!1}(t.state,n)&&(u(t.state,n),e.mounted&&!e.preparing&&M(t))}}(o),s&&Object.defineProperties(o,s);n.store?o.store=n.store():e&&e.store&&(o.store=e.store);const d=(a=o.componentView,{parentNode:a,head:null,ptr:null,slots:null});var a;return d.slots=c(),o.componentModel={definition:n,input:d,vars:c(),mounted:!1,preparing:!1,update:void 0,queued:!1,events:l,plugins:p,partialDeps:null,defaultProps:r},h(o,"init"),o}(n(t,r),e,i)}function M(t,n){t.componentModel.queued||(t.componentModel.queued=!0,v?v.push(t,n):(v=[t,n],requestAnimationFrame($)))}function w(t,n){const{componentModel:e}=t,o=n||{};e.queued=!1,e.preparing=!0,n&&h(t,"didChange",o),h(t,"willUpdate",o),h(t,"willRender",o),e.preparing=!1,l(t,e.update,t,g(t)),h(t,"didRender",o),h(t,"didUpdate",o)}function j(t){return"-"+t.toLowerCase()}function O(t,n){let e;const{props:o}=t,{defaultProps:r}=t.componentModel;let u,s;for(const p in n)u=o[p],s=n[p],null==s&&p in r&&(s=r[p]),"class"===p&&null!=s&&(s=i(l=s)?String(l).split(/\s+/).filter(m).join(" "):""),s!==u&&(e||(e=c()),o[p]=s,e[p]={current:s,prev:u},/^partial:/.test(p)||f(t,k(p),s));var l;return e}function C(t,n){const e=s(t);return n?u(n,e):e}function x(t){const n=c();return{handler:a(t,(function(e){if(t.componentModel){const o=n[e.type];for(let n=0;n<o.length;n++)o[n](t,e,this)}})),listeners:n}}function A(t,n,e){const o=Object.keys(n),{listeners:r}=e;for(let c,i=0;i<o.length;i++)c=o[i],c in r?r[c].push(n[c]):(t.addEventListener(c,e.handler),r[c]=[n[c]])}function $(){const t=v;v=null;for(let n,e=0;e<t.length;e+=2)n=t[e],n.componentModel&&n.componentModel.queued&&w(n,t[e+1])}function k(t){return t in b||(b[t]=t.replace(/[A-Z]/g,j)),b[t]}function P(t){t.setState({count:t.state.count+1})}function E(r,c){const i=r.componentView;t(i,e("\n    Hello world!")),t(i,n("br","e-n43ojt"));const u=t(i,function(t,e,r){const c=n(t,r);return c.appendChild(o(e)),c}("button","Click me","e-n43ojt"));c.click$0=function(t,n,e,o,r){return function(t,n){return n.target.addEventListener(t,n),n}(n,{host:o,scope:r,target:t,listener:e,handleEvent:d})}(u,"click",P,r,c);const s=t(i,n("p","e-n43ojt"));return t(s,e("Clicked ")),c.text$2=t(s,e(r.state.count)),t(s,e(" ")),c.text$4=t(s,e(1!==r.state.count?"times":"time")),S}function S(t,n){r(n.text$2,t.state.count),r(n.text$4,1!==t.state.count?"times":"time")}E.dispose=function(t){t.click$0=(n="click",e=t.click$0,void e.target.removeEventListener(n,e));var n,e},function(t,n,e={}){const o=y(t,n,e.target);e.store&&(o.store=e.store),e.target&&!e.detached&&e.target.appendChild(o),function(t,n){const{componentModel:e}=t,{input:o,definition:r}=e,c=O(t,n||e.defaultProps),i=c||{};e.preparing=!0;for(const n in o.slots)u=t,s=o.slots[n],h(u,"didSlotUpdate",s.name,s.element);var u,s;c&&h(t,"didChange",i),h(t,"willMount",i),h(t,"willRender",i),e.preparing=!1,e.update=l(t,r.default,t,g(t)),e.mounted=!0,h(t,"didRender",i),h(t,"didMount",i)}(o,e.props)}("rod-app",Object.freeze({__proto__:null,cssScope:"e-n43ojt",default:E,state:function(){return{count:0}},didMount:function(t){console.log("Mounted component %s with initial count %d",t.nodeName,t.state.count)},onClick:P}),{target:document.body})}();
//# sourceMappingURL=index.js.map
